% This program convolves two images. They can be tifs or jpegs (maybe even other formats?)% The two images must be the same size!% Austin Roorda, October 9, 1997function [diff_im] = convolve(stim_im, PSF)product =fftshift(fft2(double(stim_im))) .* fftshift(fft2(double(PSF)));convolution = abs(fftshift(ifft2(double(product))));clear product;convolution = convolution./max(max(convolution));diff_im = convolution;end